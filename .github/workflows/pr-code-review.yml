name: PR ìë™ ì½”ë“œ ë¦¬ë·°

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  code-review:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ ë° ë¦¬ë·° ëŒ“ê¸€
      uses: actions/github-script@v6
      with:
        script: |
          const reviewComment = [
            "## ğŸ” ìë™ ì½”ë“œ ë¦¬ë·° ê²°ê³¼",
            "",
            "### ğŸ“‹ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸",
            "- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸",
            "- [ ] ì½”ë“œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì¤€ìˆ˜", 
            "- [ ] ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬ ì™„ë£Œ",
            "- [ ] ì„±ëŠ¥ ì˜í–¥ ê²€í†  ì™„ë£Œ",
            "- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš” ì—¬ë¶€ í™•ì¸",
            "",
            "### âœ… ê¶Œì¥ ì‚¬í•­",
            "1. **ì½”ë“œ í’ˆì§ˆ**: SOLID ì›ì¹™ê³¼ Clean Architectureë¥¼ ì¤€ìˆ˜í–ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”",
            "2. **í…ŒìŠ¤íŠ¸**: TDD í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”", 
            "3. **ë¬¸ì„œí™”**: ë³µì¡í•œ ë¡œì§ì— ëŒ€í•œ ì£¼ì„ì´ë‚˜ ë¬¸ì„œê°€ í•„ìš”í•œì§€ ê²€í† í•´ì£¼ì„¸ìš”",
            "",
            "---",
            "*ğŸ¤– ì´ ë¦¬ë·°ëŠ” ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ëŒì˜ ë¦¬ë·°ë„ í•¨ê»˜ ì§„í–‰í•´ì£¼ì„¸ìš”.*"
          ].join('\n');

          await github.rest.issues.createComment({
            owner: context.repo.owner,
            repo: context.repo.repo,
            issue_number: context.issue.number,
            body: reviewComment
          });