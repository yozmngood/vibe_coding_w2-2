name: PR ìë™ ëŒ“ê¸€

on:
  pull_request:
    types: [opened, reopened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
    - name: PR í™˜ì˜ ëŒ“ê¸€
      uses: actions/github-script@v6
      with:
        script: |
          const { data: pullRequest } = await github.rest.pulls.get({
            owner: context.repo.owner,
            repo: context.repo.repo,
            pull_number: context.issue.number,
          });

          const comment = `
          ğŸ‰ **PRì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!**

          ì•ˆë…•í•˜ì„¸ìš” @${pullRequest.user.login}ë‹˜! ìƒˆë¡œìš´ PRì„ ìƒì„±í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

          ## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸
          - [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”
          - [ ] ì½”ë“œ ë¦¬ë·°ë¥¼ ìš”ì²­í•´ì£¼ì„¸ìš”
          - [ ] ê´€ë ¨ ì´ìŠˆê°€ ìˆë‹¤ë©´ ë§í¬í•´ì£¼ì„¸ìš”

          ## ğŸ” ìë™ ê²€ì‚¬ ì¤‘...
          - âœ… í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘
          - âœ… ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ ì¤‘
          - âœ… ìë™ ë¼ë²¨ë§ ì¤‘

          ## ğŸ“ ë³€ê²½ ì‚¬í•­ ìš”ì•½
          **ë¸Œëœì¹˜**: \`${pullRequest.head.ref}\` â†’ \`${pullRequest.base.ref}\`
          **ì»¤ë°‹ ìˆ˜**: ${pullRequest.commits} ê°œ
          **íŒŒì¼ ë³€ê²½**: ${pullRequest.changed_files} ê°œ

          ë¦¬ë·°ì–´ê°€ ê³§ í™•ì¸í•  ì˜ˆì •ì…ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤! ğŸš€
          `;

          await github.rest.issues.createComment({
            owner: context.repo.owner,
            repo: context.repo.repo,
            issue_number: context.issue.number,
            body: comment
          });